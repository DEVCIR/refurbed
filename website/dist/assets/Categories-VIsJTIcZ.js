import{i as v,a as P,r as l,j as e,L as m}from"./index-P9AEKrjw.js";import{B as S}from"./index-CiCqJ-gf.js";import{P as C}from"./ProductCard-DDL0Kmg4.js";import{R as k}from"./RecommendedForYou-Dfn3nmY4.js";import{R as L}from"./Review-DOeKbSSI.js";import{N as A}from"./NewsLetter-BiWvRonP.js";import{A as B}from"./apple-logo-BVVIgscA.js";import"./navigation-CqQzyEtO.js";import"./index-D4qKjM1W.js";const F="/assets/samsunglogo-Cuw7kAyn.png",H="/assets/xioamilogo-BqToJ62I.png",E="/assets/huaweilogo-CLySR3rX.png",T=()=>{const{category:a}=v(),o=P(s=>s.products.allProducts),[x,h]=l.useState([]),[c,u]=l.useState("Most Popular"),[r,g]=l.useState(null),[n,p]=l.useState(null),[b,j]=l.useState(!0),[I,f]=l.useState(!1);l.useEffect(()=>{if(console.log("All Products:",o),console.log("Category: ",a),o&&Array.isArray(o)){if(a){const s=o.filter(t=>t.category&&t.category.name?t.category.name.toLowerCase()===a.toLowerCase():t.category&&typeof t.category=="string"?t.category.toLowerCase()===a.toLowerCase():!1);console.log("Filtered Products:",s),h(s)}else h(o);j(!1)}},[o,a]);const i=[...x.filter(s=>{const t=r?s.currentPrice>=r.min&&s.currentPrice<r.max:!0,w=n?s.brand&&s.brand.toLowerCase()===n.toLowerCase():!0;return t&&w})].sort((s,t)=>c==="Lowest Price"?s.currentPrice-t.currentPrice:c==="Highest Price"?t.currentPrice-s.currentPrice:t.popularity-s.popularity);if(l.useEffect(()=>{const s=()=>{f(!1)};return document.addEventListener("click",s),()=>{document.removeEventListener("click",s)}},[]),b)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});const d=a&&x.length===0,y=[{name:"Apple",icon:e.jsx("img",{src:B,alt:"Apple",width:"28",height:"28"})},{name:"Samsung",icon:e.jsx("img",{src:F,alt:"Samsung",width:"28",height:"28"})},{name:"Google",icon:"G"},{name:"Xiaomi",icon:e.jsx("img",{src:H,alt:"Xioami",width:"24",height:"24"})},{name:"Huawei",icon:e.jsx("img",{src:E,alt:"Huawei",width:"24",height:"24"})}],N=[{label:"€0 - 100"},{label:"€100 - 200"},{label:"€200 - 300"},{label:"€300 - 500"},{label:"€500+"}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-11/12 md:w-10/12 lg:w-8/12 mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-6",children:[e.jsx(m,{to:"/",className:"hover:text-blue-600",children:"Home"}),e.jsx("span",{className:"mx-2",children:">"}),e.jsx("span",{children:"Products"})]}),e.jsx("h1",{className:"text-4xl font-semibold mb-2 text-custom-dark-text",children:a||"Phones & Smartphones:"}),e.jsxs("p",{className:"text-gray-700 mb-6 text-lg",children:["High-quality refurbished ",a||"Phones & Smartphones"," at a great price. Your more sustainable choice, with a minimum 12-month warranty."]}),!d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex flex-wrap items-start gap-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-black mb-3 text-xl",children:"Filter by: Brand"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(s=>e.jsxs("button",{className:`px-4 py-2 flex items-center gap-2 border rounded-md hover:border-black ${n===s.name?"border-blue-500 bg-blue-50":"border-gray-300"}`,onClick:()=>p(n===s.name?null:s.name),children:[e.jsx("span",{children:s.icon}),e.jsx("span",{children:s.name})]},s.name))})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-black mb-3 text-xl",children:"Filter by: Price"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(s=>e.jsx("button",{className:`px-4 py-2 border rounded-md hover:border-black ${(r==null?void 0:r.label)===s.label?"border-blue-500 bg-blue-50":"border-gray-300"}`,onClick:()=>g((r==null?void 0:r.label)===s.label?null:s),children:s.label},s.label))})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{className:"text-blue-600 flex items-center",onClick:()=>{},children:[e.jsx("span",{children:"Show all filters"}),e.jsx("span",{className:"ml-1 text-xl",children:"+"})]})})]})}),e.jsx("hr",{className:"border-gray-200 my-6"}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"sort",className:"block text-sm font-medium text-gray-700 mr-2",children:"Sort by:"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"sort",value:c,onChange:s=>u(s.target.value),className:"border border-gray-300 text-custom-dark-text rounded-md px-4 py-2 pr-8 appearance-none cursor-pointer",children:[e.jsx("option",{children:"Most Popular"}),e.jsx("option",{children:"Lowest Price"}),e.jsx("option",{children:"Highest Price"})]}),e.jsx(S,{className:"absolute top-1/2 right-2 transform -translate-y-1/2 pointer-events-none"})]})]})})})]}),!d&&e.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",i.length," ",i.length===1?"product":"products",r?` in price range ${r.label}`:"",n?` by ${n}`:""]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:d?e.jsxs("div",{className:"col-span-full text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-800 mb-2",children:"No products available"}),e.jsxs("p",{className:"text-gray-600",children:["No products are available for the category:"," ",e.jsx("strong",{children:a})]}),e.jsx(m,{to:"/",className:"mt-4 inline-block bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"View all products"})]}):i.length>0?i.map(s=>e.jsx(m,{to:`/p/${s.id}`,className:"block group",children:e.jsx(C,{product:s})},s.id)):e.jsx("div",{className:"col-span-full text-center py-8",children:"No products found matching the selected filters."})})]}),e.jsx(k,{}),e.jsx(L,{}),e.jsx(A,{})]})};export{T as default};
