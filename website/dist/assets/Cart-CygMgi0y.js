import{G as ge,u as Me,a as oe,r as w,j as t,h as le,l as Pe,T as Ie,n as ke,t as $,L as xe,o as Se,q as J}from"./index-P9AEKrjw.js";import{F as Fe}from"./index-mdqvb4d3.js";import{a as Te}from"./index-B7PpEkZY.js";function Ee(h){return ge({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M8.55024 10.5503C8.55024 11.1026 8.10253 11.5503 7.55024 11.5503C6.99796 11.5503 6.55024 11.1026 6.55024 10.5503C6.55024 9.99801 6.99796 9.55029 7.55024 9.55029C8.10253 9.55029 8.55024 9.99801 8.55024 10.5503Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M10.5502 11.5503C11.1025 11.5503 11.5502 11.1026 11.5502 10.5503C11.5502 9.99801 11.1025 9.55029 10.5502 9.55029C9.99796 9.55029 9.55024 9.99801 9.55024 10.5503C9.55024 11.1026 9.99796 11.5503 10.5502 11.5503Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M13.5502 11.5503C14.1025 11.5503 14.5502 11.1026 14.5502 10.5503C14.5502 9.99801 14.1025 9.55029 13.5502 9.55029C12.998 9.55029 12.5502 9.99801 12.5502 10.5503C12.5502 11.1026 12.998 11.5503 13.5502 11.5503Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2071 4.89344C19.0922 7.7786 19.313 12.3192 16.8693 15.4577C16.8846 15.4712 16.8996 15.4853 16.9142 15.4999L21.1568 19.7426C21.5473 20.1331 21.5473 20.7663 21.1568 21.1568C20.7663 21.5473 20.1331 21.5473 19.7426 21.1568L15.5 16.9141C15.4853 16.8995 15.4713 16.8846 15.4578 16.8693C12.3193 19.3131 7.77858 19.0923 4.89338 16.2071C1.76918 13.083 1.76918 8.01763 4.89338 4.89344C8.01757 1.76924 13.0829 1.76924 16.2071 4.89344ZM6.30759 14.7929C8.65074 17.1361 12.4497 17.1361 14.7929 14.7929C17.136 12.4498 17.136 8.6508 14.7929 6.30765C12.4497 3.96451 8.65074 3.96451 6.30759 6.30765C3.96445 8.6508 3.96445 12.4498 6.30759 14.7929Z",fill:"currentColor"},child:[]}]})(h)}function Le({items:h}){const b=Me(),C=oe(d=>d.cart.cartData),[R,F]=w.useState(null),A=d=>{const P=C.map(v=>v.id===d?{...v,quantity:v.quantity+1}:v);b(le(P))},I=d=>{const P=C.map(v=>v.id===d?{...v,quantity:v.quantity>1?v.quantity-1:1}:v).filter(v=>v.quantity>0);b(le(P))},B=d=>{const P=C.filter(v=>v.id!==d);b(le(P))};return t.jsx("div",{className:"w-full",children:h.map(d=>t.jsxs("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-md border border-gray-100 transition-all hover:shadow-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b border-gray-100",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d.name}),t.jsxs("div",{className:"font-bold text-xl text-emerald-700",children:["â‚¬",d.currentPrice.toFixed(2)]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[t.jsx("div",{className:"w-full md:w-1/4 flex justify-center",children:t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 flex items-center justify-center w-32 h-32",children:t.jsx("img",{src:d.image,alt:d.name,className:"w-full h-full object-contain"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-3 text-sm",children:t.jsxs("p",{className:"text-gray-700 font-medium",children:["Warranty: 12 Months | ",d.storage||"256 GB"," | Dual-SIM | ",d.color,", Very good"]})}),t.jsx("div",{className:"bg-green-50 p-3 rounded-lg mb-4 text-sm",children:t.jsxs("p",{className:"text-emerald-700 font-semibold flex items-center",children:[t.jsx("span",{className:"mr-2",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})})}),"Price reduction: Instead of â‚¬",(d.currentPrice*1.07).toFixed(2),", the device is now â‚¬",d.currentPrice.toFixed(2)]})}),t.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"bg-blue-100 rounded-full p-1",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),t.jsx("h3",{className:"font-bold text-blue-800",children:"Full Protection"})]}),t.jsxs("div",{className:"text-sm space-y-1 text-gray-700 ml-7",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-emerald-600 font-bold",children:"âœ“"})," Display, water, and fall damages"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-emerald-600 font-bold",children:"âœ“"})," Worldwide coverage"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-emerald-600 font-bold",children:"âœ“"})," No automatic renewal"]})]})]})]})]}),t.jsx("div",{className:"mt-6 flex justify-end items-center",children:t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[t.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 transition-colors",onClick:()=>I(d.id),children:"âˆ’"}),t.jsx("span",{className:"px-4 py-1 flex items-center justify-center font-medium",children:d.quantity}),t.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 transition-colors",onClick:()=>A(d.id),children:"+"})]}),t.jsxs("button",{onClick:()=>B(d.id),className:"ml-6 text-red-500 hover:text-red-700 font-medium flex items-center transition-colors",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove"]})]})})]},d.id))})}function Ae(h){return ge({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22 8a.76.76 0 0 0 0-.21v-.08a.77.77 0 0 0-.07-.16.35.35 0 0 0-.05-.08l-.1-.13-.08-.06-.12-.09-9-5a1 1 0 0 0-1 0l-9 5-.09.07-.11.08a.41.41 0 0 0-.07.11.39.39 0 0 0-.08.1.59.59 0 0 0-.06.14.3.3 0 0 0 0 .1A.76.76 0 0 0 2 8v8a1 1 0 0 0 .52.87l9 5a.75.75 0 0 0 .13.06h.1a1.06 1.06 0 0 0 .5 0h.1l.14-.06 9-5A1 1 0 0 0 22 16V8zm-10 3.87L5.06 8l2.76-1.52 6.83 3.9zm0-7.72L18.94 8 16.7 9.25 9.87 5.34zM4 9.7l7 3.92v5.68l-7-3.89zm9 9.6v-5.68l3-1.68V15l2-1v-3.18l2-1.11v5.7z"},child:[]}]})(h)}var ie={};(function h(b,C,R,F){var A=!!(b.Worker&&b.Blob&&b.Promise&&b.OffscreenCanvas&&b.OffscreenCanvasRenderingContext2D&&b.HTMLCanvasElement&&b.HTMLCanvasElement.prototype.transferControlToOffscreen&&b.URL&&b.URL.createObjectURL),I=typeof Path2D=="function"&&typeof DOMMatrix=="function",B=function(){if(!b.OffscreenCanvas)return!1;var r=new OffscreenCanvas(1,1),e=r.getContext("2d");e.fillRect(0,0,1,1);var a=r.transferToImageBitmap();try{e.createPattern(a,"no-repeat")}catch{return!1}return!0}();function d(){}function P(r){var e=C.exports.Promise,a=e!==void 0?e:b.Promise;return typeof a=="function"?new a(r):(r(d,d),null)}var v=function(r,e){return{transform:function(a){if(r)return a;if(e.has(a))return e.get(a);var n=new OffscreenCanvas(a.width,a.height),l=n.getContext("2d");return l.drawImage(a,0,0),e.set(a,n),n},clear:function(){e.clear()}}}(B,new Map),W=function(){var r=Math.floor(16.666666666666668),e,a,n={},l=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(o){var i=Math.random();return n[i]=requestAnimationFrame(function s(c){l===c||l+r-1<c?(l=c,delete n[i],o()):n[i]=requestAnimationFrame(s)}),i},a=function(o){n[o]&&cancelAnimationFrame(n[o])}):(e=function(o){return setTimeout(o,r)},a=function(o){return clearTimeout(o)}),{frame:e,cancel:a}}(),ce=function(){var r,e,a={};function n(l){function o(i,s){l.postMessage({options:i||{},callback:s})}l.init=function(s){var c=s.transferControlToOffscreen();l.postMessage({canvas:c},[c])},l.fire=function(s,c,f){if(e)return o(s,null),e;var y=Math.random().toString(36).slice(2);return e=P(function(g){function j(M){M.data.callback===y&&(delete a[y],l.removeEventListener("message",j),e=null,v.clear(),f(),g())}l.addEventListener("message",j),o(s,y),a[y]=j.bind(null,{data:{callback:y}})}),e},l.reset=function(){l.postMessage({reset:!0});for(var s in a)a[s](),delete a[s]}}return function(){if(r)return r;if(!R&&A){var l=["var CONFETTI, SIZE = {}, module = {};","("+h.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{r=new Worker(URL.createObjectURL(new Blob([l])))}catch(o){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",o),null}n(r)}return r}}(),K={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function O(r,e){return e?e(r):r}function Y(r){return r!=null}function p(r,e,a){return O(r&&Y(r[e])?r[e]:K[e],a)}function _(r){return r<0?0:Math.floor(r)}function de(r,e){return Math.floor(Math.random()*(e-r))+r}function q(r){return parseInt(r,16)}function S(r){return r.map(X)}function X(r){var e=String(r).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:q(e.substring(0,2)),g:q(e.substring(2,4)),b:q(e.substring(4,6))}}function Z(r){var e=p(r,"origin",Object);return e.x=p(e,"x",Number),e.y=p(e,"y",Number),e}function ee(r){r.width=document.documentElement.clientWidth,r.height=document.documentElement.clientHeight}function U(r){var e=r.getBoundingClientRect();r.width=e.width,r.height=e.height}function re(r){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=r,e}function te(r,e,a,n,l,o,i,s,c){r.save(),r.translate(e,a),r.rotate(o),r.scale(n,l),r.arc(0,0,1,i,s,c),r.restore()}function H(r){var e=r.angle*(Math.PI/180),a=r.spread*(Math.PI/180);return{x:r.x,y:r.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:r.startVelocity*.5+Math.random()*r.startVelocity,angle2D:-e+(.5*a-Math.random()*a),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:r.color,shape:r.shape,tick:0,totalTicks:r.ticks,decay:r.decay,drift:r.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:r.gravity*3,ovalScalar:.6,scalar:r.scalar,flat:r.flat}}function ae(r,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var a=e.tick++/e.totalTicks,n=e.x+e.random*e.tiltCos,l=e.y+e.random*e.tiltSin,o=e.wobbleX+e.random*e.tiltCos,i=e.wobbleY+e.random*e.tiltSin;if(r.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-a)+")",r.beginPath(),I&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))r.fill(x(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(o-n)*.1,Math.abs(i-l)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var s=Math.PI/10*e.wobble,c=Math.abs(o-n)*.1,f=Math.abs(i-l)*.1,y=e.shape.bitmap.width*e.scalar,g=e.shape.bitmap.height*e.scalar,j=new DOMMatrix([Math.cos(s)*c,Math.sin(s)*c,-Math.sin(s)*f,Math.cos(s)*f,e.x,e.y]);j.multiplySelf(new DOMMatrix(e.shape.matrix));var M=r.createPattern(v.transform(e.shape.bitmap),"no-repeat");M.setTransform(j),r.globalAlpha=1-a,r.fillStyle=M,r.fillRect(e.x-y/2,e.y-g/2,y,g),r.globalAlpha=1}else if(e.shape==="circle")r.ellipse?r.ellipse(e.x,e.y,Math.abs(o-n)*e.ovalScalar,Math.abs(i-l)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):te(r,e.x,e.y,Math.abs(o-n)*e.ovalScalar,Math.abs(i-l)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var u=Math.PI/2*3,k=4*e.scalar,T=8*e.scalar,E=e.x,D=e.y,V=5,L=Math.PI/V;V--;)E=e.x+Math.cos(u)*T,D=e.y+Math.sin(u)*T,r.lineTo(E,D),u+=L,E=e.x+Math.cos(u)*k,D=e.y+Math.sin(u)*k,r.lineTo(E,D),u+=L;else r.moveTo(Math.floor(e.x),Math.floor(e.y)),r.lineTo(Math.floor(e.wobbleX),Math.floor(l)),r.lineTo(Math.floor(o),Math.floor(i)),r.lineTo(Math.floor(n),Math.floor(e.wobbleY));return r.closePath(),r.fill(),e.tick<e.totalTicks}function se(r,e,a,n,l){var o=e.slice(),i=r.getContext("2d"),s,c,f=P(function(y){function g(){s=c=null,i.clearRect(0,0,n.width,n.height),v.clear(),l(),y()}function j(){R&&!(n.width===F.width&&n.height===F.height)&&(n.width=r.width=F.width,n.height=r.height=F.height),!n.width&&!n.height&&(a(r),n.width=r.width,n.height=r.height),i.clearRect(0,0,n.width,n.height),o=o.filter(function(M){return ae(i,M)}),o.length?s=W.frame(j):g()}s=W.frame(j),c=g});return{addFettis:function(y){return o=o.concat(y),f},canvas:r,promise:f,reset:function(){s&&W.cancel(s),c&&c()}}}function G(r,e){var a=!r,n=!!p(e||{},"resize"),l=!1,o=p(e,"disableForReducedMotion",Boolean),i=A&&!!p(e||{},"useWorker"),s=i?ce():null,c=a?ee:U,f=r&&s?!!r.__confetti_initialized:!1,y=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,g;function j(u,k,T){for(var E=p(u,"particleCount",_),D=p(u,"angle",Number),V=p(u,"spread",Number),L=p(u,"startVelocity",Number),ve=p(u,"decay",Number),pe=p(u,"gravity",Number),be=p(u,"drift",Number),ue=p(u,"colors",S),ye=p(u,"ticks",Number),he=p(u,"shapes"),je=p(u,"scalar"),we=!!p(u,"flat"),me=Z(u),fe=E,ne=[],Ce=r.width*me.x,Ne=r.height*me.y;fe--;)ne.push(H({x:Ce,y:Ne,angle:D,spread:V,startVelocity:L,color:ue[fe%ue.length],shape:he[de(0,he.length)],ticks:ye,decay:ve,gravity:pe,drift:be,scalar:je,flat:we}));return g?g.addFettis(ne):(g=se(r,ne,c,k,T),g.promise)}function M(u){var k=o||p(u,"disableForReducedMotion",Boolean),T=p(u,"zIndex",Number);if(k&&y)return P(function(L){L()});a&&g?r=g.canvas:a&&!r&&(r=re(T),document.body.appendChild(r)),n&&!f&&c(r);var E={width:r.width,height:r.height};s&&!f&&s.init(r),f=!0,s&&(r.__confetti_initialized=!0);function D(){if(s){var L={getBoundingClientRect:function(){if(!a)return r.getBoundingClientRect()}};c(L),s.postMessage({resize:{width:L.width,height:L.height}});return}E.width=E.height=null}function V(){g=null,n&&(l=!1,b.removeEventListener("resize",D)),a&&r&&(document.body.contains(r)&&document.body.removeChild(r),r=null,f=!1)}return n&&!l&&(l=!0,b.addEventListener("resize",D,!1)),s?s.fire(u,E,V):j(u,E,V)}return M.reset=function(){s&&s.reset(),g&&g.reset()},M}var z;function Q(){return z||(z=G(null,{useWorker:!0,resize:!0})),z}function x(r,e,a,n,l,o,i){var s=new Path2D(r),c=new Path2D;c.addPath(s,new DOMMatrix(e));var f=new Path2D;return f.addPath(c,new DOMMatrix([Math.cos(i)*l,Math.sin(i)*l,-Math.sin(i)*o,Math.cos(i)*o,a,n])),f}function m(r){if(!I)throw new Error("path confetti are not supported in this browser");var e,a;typeof r=="string"?e=r:(e=r.path,a=r.matrix);var n=new Path2D(e),l=document.createElement("canvas"),o=l.getContext("2d");if(!a){for(var i=1e3,s=i,c=i,f=0,y=0,g,j,M=0;M<i;M+=2)for(var u=0;u<i;u+=2)o.isPointInPath(n,M,u,"nonzero")&&(s=Math.min(s,M),c=Math.min(c,u),f=Math.max(f,M),y=Math.max(y,u));g=f-s,j=y-c;var k=10,T=Math.min(k/g,k/j);a=[T,0,0,T,-Math.round(g/2+s)*T,-Math.round(j/2+c)*T]}return{type:"path",path:e,matrix:a}}function N(r){var e,a=1,n="#000000",l='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof r=="string"?e=r:(e=r.text,a="scalar"in r?r.scalar:a,l="fontFamily"in r?r.fontFamily:l,n="color"in r?r.color:n);var o=10*a,i=""+o+"px "+l,s=new OffscreenCanvas(o,o),c=s.getContext("2d");c.font=i;var f=c.measureText(e),y=Math.ceil(f.actualBoundingBoxRight+f.actualBoundingBoxLeft),g=Math.ceil(f.actualBoundingBoxAscent+f.actualBoundingBoxDescent),j=2,M=f.actualBoundingBoxLeft+j,u=f.actualBoundingBoxAscent+j;y+=j+j,g+=j+j,s=new OffscreenCanvas(y,g),c=s.getContext("2d"),c.font=i,c.fillStyle=n,c.fillText(e,M,u);var k=1/a;return{type:"bitmap",bitmap:s.transferToImageBitmap(),matrix:[k,0,0,k,-y*k/2,-g*k/2]}}C.exports=function(){return Q().apply(this,arguments)},C.exports.reset=function(){Q().reset()},C.exports.create=G,C.exports.shapeFromPath=m,C.exports.shapeFromText=N})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ie,!1);const De=ie.exports;ie.exports.create;const Re=({data:h})=>{const b=Pe(),[C,R]=w.useState(!1),[F,A]=w.useState(""),[I,B]=w.useState(!1),[d,P]=w.useState(!1),[v,W]=w.useState(!1),[ce,K]=w.useState(""),[O,Y]=w.useState(),[p,_]=w.useState(),[de,q]=w.useState(),[S,X]=w.useState(),[Z,ee]=w.useState(),[U,re]=w.useState(0);let te=h.reduce((x,m)=>x+m.quantity,0),H=h.reduce((x,m)=>x+m.currentPrice*m.quantity,0).toFixed(2);w.useEffect(()=>{if(console.log("Data of product ",h),K(h),h&&h.length>0){const x=h[0].currentPrice,m=h[0].id,N=h[0].quantity;Y(x),_(x),q(m),ee(N),console.log("Current price:",x),console.log("Inventory Id: ",m),console.log("Quantity: ",N)}},[h]),w.useEffect(()=>{if(S&&O){let x=0,m=O;S.discount_type==="percentage"?(x=O*(S.voucher_discount/100),m=O-x):S.discount_type==="fixed"&&(x=S.voucher_discount,m=O-x),re(x),_(m),console.log("Discount type:",S.discount_type),console.log("Discount amount:",x),console.log("Discounted price:",m)}},[S,O]);const ae=()=>{De({particleCount:150,spread:70,origin:{y:.6}})},se=()=>{R(!C),P(!1)},G=async x=>{if(!x.trim()){$.error("Please enter a voucher code");return}B(!0);try{const r=(await(await fetch("https://admin.mobileswholesale.co.uk/api/voucher")).json()).find(e=>e.voucher_code.toLowerCase()===x.trim().toLowerCase());r?(ae(),P(!0),X(r),console.log("Voucher found id:",r.id),console.log("Voucher discount type:",r.discount_type),console.log("Voucher discount amount:",r.voucher_discount),$.success("Voucher code is available!")):$.error("Voucher code is not available")}catch(m){console.error("Error checking voucher code:",m),$.error("Error checking voucher code. Please try again.")}finally{B(!1)}},z=x=>{x.preventDefault(),G(F)},Q=()=>{const x={items:h,totalItems:h.reduce((m,N)=>m+N.quantity,0),originalPrice:h.reduce((m,N)=>m+N.currentPrice*N.quantity,0),discountAmount:d?U*h.reduce((m,N)=>m+N.quantity,0):0,voucherApplied:d,voucher:d?S:null,grandTotal:d?p*h.reduce((m,N)=>m+N.quantity,0)+100+100:h.reduce((m,N)=>m+N.currentPrice*N.quantity,0)+100+100};b("/checkout",{state:{orderData:x}})};return t.jsxs("div",{className:"w-full max-h-fit p-4 rounded-xl shadow-lg bg-white text-gray-800 relative",children:[t.jsx(Ie,{position:"top-center",richColors:!0}),t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Summary"}),t.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex justify-between text-sm font-semibold mb-1",children:[t.jsxs("span",{children:[te," Items"]}),t.jsxs("span",{children:["â‚¬",H]})]}),d&&t.jsxs("div",{className:"flex justify-between text-sm text-red-600 font-semibold",children:[t.jsxs("span",{children:["Discount ",S.discount_type==="percentage"?`(${S.voucher_discount}%)`:"(fixed)"]}),t.jsxs("span",{children:["-â‚¬",(U*Z).toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-sm text-emerald-700 font-semibold",children:[t.jsx("span",{children:"Shipping"}),t.jsx("span",{children:"included"})]}),t.jsx("hr",{className:"my-2 border-gray-200"}),t.jsxs("div",{className:"flex justify-between text-lg font-bold text-emerald-800",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["â‚¬",d?(p*Z+100+100).toFixed(2):H]})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Price includes VAT."})]}),t.jsx("div",{className:"mt-4",children:d?t.jsxs("div",{className:"p-2 bg-green-50 rounded-md text-green-700 font-medium flex items-center justify-center",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Voucher Applied Successfully!"]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm underline font-semibold cursor-pointer hover:text-emerald-700",onClick:se,children:"Do you have a voucher code?"}),C&&t.jsxs("form",{onSubmit:z,className:"mt-2 flex gap-2",children:[t.jsx("input",{type:"text",value:F,onChange:x=>A(x.target.value),placeholder:"Enter voucher code",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-emerald-500",disabled:I}),t.jsx("button",{type:"submit",className:"px-3 py-2 bg-emerald-600 text-white text-sm font-medium rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-1 focus:ring-emerald-500 disabled:bg-emerald-400",disabled:I,children:I?"Checking...":"Apply"})]})]})}),t.jsxs("div",{className:"mt-4 space-y-3 text-sm text-gray-800 font-medium",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ke,{className:"text-emerald-700 text-lg"}),"Min. 12 month warranty"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ae,{className:"text-emerald-700 text-lg"}),"Free return shipping"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Te,{className:"text-emerald-700 text-lg"}),"30 day return policy"]})]}),t.jsx("button",{className:"mt-6 w-full bg-custom-pri-light text-white font-semibold py-3 rounded-lg hover:bg-custom-pri transition duration-200",onClick:Q,disabled:v,children:v?"Placing Order...":"Place Order"})]})};function qe(){const h=oe(I=>I.cart.cartData),b=oe(I=>I.products.allProducts),[C,R]=w.useState("loading"),[F,A]=w.useState([]);return w.useEffect(()=>{if(!h.length)R("empty"),A([]);else{R("filled");const I=h.map(({id:B,quantity:d})=>{const P=b.find(v=>v.id===B);return P?{...P,quantity:d}:null}).filter(Boolean);A(I)}},[h,b]),t.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-between bg-white",children:[t.jsxs("header",{className:"w-full flex flex-col",children:[t.jsxs("div",{className:"w-full flex items-center justify-between px-6 py-4",children:[t.jsx(xe,{to:"/",className:"cursor-pointer",children:t.jsx("img",{src:Se,alt:"Logo",className:"h-10 w-auto"})}),t.jsx("button",{className:"text-[#584a9f] text-lg",children:"Help"})]}),t.jsx("hr",{className:"border-t border-gray-200 w-full"}),t.jsx("div",{className:"w-full flex items-center justify-end py-4 bg-gray-50 px-6",children:t.jsxs("div",{className:"flex flex-wrap justify-end gap-6 text-lg text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(J,{className:"text-[#336b59] text-lg"}),"Min. 12-month warranty"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(J,{className:"text-[#336b59] text-lg"}),"Free shipping"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(J,{className:"text-[#336b59] text-lg"}),"Free returns"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(J,{className:"text-[#336b59] text-lg"}),"Free 30-day trial"]})]})}),t.jsx("hr",{className:"border-t border-gray-200 w-full"})]}),t.jsx("div",{className:"w-[90%] mb-12 mt-10",children:t.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[t.jsx("div",{className:"flex-1 text-left",children:t.jsx("button",{className:"text-xl font-semibold text-gray-500 hover:text-[#322d81] hover:border-b-2 hover:border-[#322d81] pb-1 px-3 transition-all duration-300 hover:scale-105 cursor-pointer",children:"Accessories"})}),t.jsx("div",{className:"flex-1 text-center",children:t.jsx("button",{className:"text-xl font-semibold text-[#322d81] border-b-2 border-[#322d81] pb-1 px-3 transition-all duration-300 hover:text-[#4b45ad] hover:scale-105 cursor-pointer",children:"Cart"})}),t.jsx("div",{className:"flex-1 text-right",children:t.jsx("button",{className:"text-xl font-semibold text-gray-500 hover:text-[#322d81] hover:border-b-2 hover:border-[#322d81] pb-1 px-3 transition-all duration-300 hover:scale-105 cursor-pointer",children:"Checkout"})})]})}),t.jsxs("section",{className:"w-full min-h-[100dvh] flex items-center py-4 bg-custom-bg2 border-b",children:[C==="empty"&&t.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center text-center px-4",children:[t.jsx(Fe,{className:"text-6xl text-gray-300 mb-4"}),t.jsx("h2",{className:"text-2xl text-custom-dark-text font-semibold mb-6",children:"Your cart is currently empty"}),t.jsx(xe,{to:"/products",className:"block group",children:t.jsx("button",{className:"bg-custom-pri text-white px-8 py-3 rounded-md hover:bg-custom-pri-light transition",children:"Continue shopping"})})]}),C==="loading"&&t.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center text-center px-4",children:[t.jsx(Ee,{className:"text-6xl text-gray-300 mb-4"}),t.jsx("h2",{className:"text-2xl text-custom-grey-text font-semibold mb-6",children:"Cart Items Loading..."})]}),C==="filled"&&t.jsxs("main",{className:"w-[95%] flex flex-row justify-center text-center mx-auto gap-8",children:[t.jsx(Le,{items:F}),t.jsx(Re,{data:F})]})]}),t.jsx("div",{className:"w-full bg-[#322d81] text-white py-3 text-center text-xl",children:"Â© Refurbed Marketplace GmbH | T&C | Privacy Policy | Imprint | Legal Notices"})]})}export{qe as default};
